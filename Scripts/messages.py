from Scripts.config import Fore, Style, stats, detected_folders

logo_ascii = r"""
  |\  /|      |\    /| 
  | \/ |      | \  / | 
  | /\ |   _  |  \/  | 
  |/  \|  |_| |  /\  | 
  |    |      | /  \ | 
  |    |      |/    \| 
"""

starting_message = """
  ▐▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▌
  ▐                                                                                                                                                                                                  ▌
  ▐                                                                                                                                                                                                  ▌
  ▐   ███████╗████████╗ █████╗ ██████╗ ████████╗██╗███╗   ██╗ ██████╗     ██╗    ██╗██╗███╗   ██╗██████╗  ██████╗ ██╗    ██╗███████╗     ██████╗██╗     ███████╗ █████╗ ███╗   ██╗███████╗██████╗    ▌
  ▐   ██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝██║████╗  ██║██╔════╝     ██║    ██║██║████╗  ██║██╔══██╗██╔═══██╗██║    ██║██╔════╝    ██╔════╝██║     ██╔════╝██╔══██╗████╗  ██║██╔════╝██╔══██╗   ▌
  ▐   ███████╗   ██║   ███████║██████╔╝   ██║   ██║██╔██╗ ██║██║  ███╗    ██║ █╗ ██║██║██╔██╗ ██║██║  ██║██║   ██║██║ █╗ ██║███████╗    ██║     ██║     █████╗  ███████║██╔██╗ ██║█████╗  ██████╔╝   ▌
  ▐   ╚════██║   ██║   ██╔══██║██╔══██╗   ██║   ██║██║╚██╗██║██║   ██║    ██║███╗██║██║██║╚██╗██║██║  ██║██║   ██║██║███╗██║╚════██║    ██║     ██║     ██╔══╝  ██╔══██║██║╚██╗██║██╔══╝  ██╔══██╗   ▌
  ▐   ███████║   ██║   ██║  ██║██║  ██║   ██║   ██║██║ ╚████║╚██████╔╝    ╚███╔███╔╝██║██║ ╚████║██████╔╝╚██████╔╝╚███╔███╔╝███████║    ╚██████╗███████╗███████╗██║  ██║██║ ╚████║███████╗██║  ██║   ▌
  ▐   ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   ╚═╝╚═╝  ╚═══╝ ╚═════╝      ╚══╝╚══╝ ╚═╝╚═╝  ╚═══╝╚═════╝  ╚═════╝  ╚══╝╚══╝ ╚══════╝     ╚═════╝╚══════╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝   ▌
  ▐                                                                                                                                                                                                  ▌
  ▐                                                                                                                                                                                                  ▌
  ▐▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▌
"""

box_head = "╔──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╗"
box_body = "│                                                                                                                                                                                                  │"
box_foot = "╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝"

def print_installed_message(detected, log):
    
    log.write(f"\n{Fore.LIGHTWHITE_EX}     ╔──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╗")
    log.write(f"{Fore.LIGHTWHITE_EX}     │                                                                                   DETECTING INSTALLED PROGRAMS                                                                                   │")
    log.write(f"{Fore.LIGHTWHITE_EX}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝")
    log.write(f"{Fore.LIGHTWHITE_EX}     │                                                                                                                                                                                                  │")
    for msg in detected:
        log.write(f"{Fore.LIGHTWHITE_EX}     │ {Fore.LIGHTGREEN_EX}[+] {Fore.LIGHTMAGENTA_EX}-> {Fore.LIGHTCYAN_EX}{msg} {Fore.LIGHTGREEN_EX + Style.BRIGHT}Detected - [{detected_folders[msg]}] Folders{' ' * (130 - len(msg))}{Fore.LIGHTWHITE_EX + Style.NORMAL}│")
        #await asyncio.sleep(0.4)

    log.write(f"{Fore.LIGHTWHITE_EX}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.LIGHTWHITE_EX}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝")


def print_cleaning_message(path, log):

    log.write(f"\n{Fore.CYAN}     ╔──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╗")
    log.write(f"{Fore.CYAN}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.CYAN}     │     CLEANING: {path}{' ' * (179 - len(path))}│")
    log.write(f"{Fore.CYAN}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.CYAN}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝\n")


def print_section_cleaned_message(log):

    total = 77

    total += 1 if stats['current_files'] >= 0 else 2 if stats['current_files'] >= 10 else 0
    total += 1 if stats['current_folders'] >= 0 else 2 if stats['current_folders'] >= 10 else 0
    total += 1 if stats['current_mb'] >= 0 else 2 if stats['current_mb'] >= 10 else 3 if stats['current_mb'] >= 100 else 0


    log.write(f"\n{Fore.LIGHTGREEN_EX}     ╔──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╗")
    log.write(f"{Fore.LIGHTGREEN_EX}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.LIGHTGREEN_EX}     │  CLEANED || Deleted Files [{stats['current_files']}] || Deleted Folders [{stats['current_folders']}] || Deleted Size in Mb [{stats['current_mb']:.2f}]{' ' * (192 - total)}│")
    log.write(f"{Fore.LIGHTGREEN_EX}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.LIGHTGREEN_EX}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝")

def print_final_clean_stats_message(log):

    total = 77

    total += 1 if stats['total_files'] >= 0 else 2 if stats['total_files'] >= 10 else 0
    total += 1 if stats['total_folders'] >= 0 else 2 if stats['total_folders'] >= 10 else 0
    total += 1 if stats['total_mb'] >= 0 else 2 if stats['total_mb'] >= 10 else 3 if stats['total_mb'] >= 100 else 0

    log.write(f"\n{Fore.LIGHTYELLOW_EX}     ╔──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╗")
    log.write(f"{Fore.LIGHTYELLOW_EX}     │                                                                                       PROCESS COMPLETED                                                                                          │")
    log.write(f"{Fore.LIGHTYELLOW_EX}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝")
    log.write(f"{Fore.LIGHTYELLOW_EX}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.LIGHTYELLOW_EX}     │                                                 TOTAL CLEANED || Files [{stats['total_files']}] || Folders [{stats['total_folders']}] || Size [{stats['total_mb']:.2f} Mb]{' ' * (165 - total)}│")
    log.write(f"{Fore.LIGHTYELLOW_EX}     │                                                                                                                                                                                                  │")
    log.write(f"{Fore.LIGHTYELLOW_EX}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝")
    log.write(f"{Fore.LIGHTYELLOW_EX}     │                                                                                     {Fore.LIGHTWHITE_EX}PRESS ANY KEY TO EXIT{Fore.LIGHTYELLOW_EX}                                                                                 │")
    log.write(f"{Fore.LIGHTYELLOW_EX}     ╚──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╝")